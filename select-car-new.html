<!DOCTYPE html>
<html lang="en">

<head>
  <title>Select Car</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Main Styles Including -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/thule.css">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

  <!-- <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" /> -->
  <!-- <link rel="stylesheet" href="demo-styles.css"> -->
  <!-- <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
  <script src="./_model-viewer_ Interactive Example_files/focus-visible.js.download" defer=""></script> -->
</head>

<body id="select-car-page">
  <div class="container pad-15 mt-5 mb-0">
    <div class="pl-lg-0 pl-auto">
      <div class="col-xs-12 filter-listing-text">
        <a class="d-inline-block text-dark mr-3 prev-icon" href="index.html">
          <i class="fas fa-arrow-left"></i>
        </a>
        <h2 class="heading3 d-inline-block mt-6">Select Car</h2>
      </div>
    </div>

    <div class="car-main-img text-center">
      <img class="img-responsive" src="img/cars/car.PNG">
    </div>

    <div id="vehicleSelection" class="select-car row mt-5">
      <h1>Place Carrier on</h1>
      <p>Select your vehicle type</p>
      <div class="col-4 equel-grid" onclick="sedanAnimation()">
        <div class="grid d-flex flex-column align-items-center justify-content-center">
          <div class="grid-body text-center">
            <div class="profile-img img-rounded bg-inverse-warning no-avatar component-flat"><img class="w-80"
                src="img/cars/sedan.png"></div>
            <h4 class="font-weight-medium animated-count">Sedan</h4>
          </div>
        </div>
      </div>
      <div class="col-4 equel-grid" onclick="hatchback()">
        <div class="grid d-flex flex-column align-items-center justify-content-center">
          <div class="grid-body text-center">
            <div class="profile-img img-rounded bg-inverse-warning no-avatar component-flat"><img class="w-80"
                src="img/cars/hatchback.png"></div>
            <h4 class="font-weight-medium animated-count">Hatchback</h4>
          </div>
        </div>
      </div>
      <div class="col-4 equel-grid" onclick="estateAnimation()">
        <div class="grid d-flex flex-column align-items-center justify-content-center">
          <div class="grid-body text-center">
            <div class="profile-img img-rounded bg-inverse-warning no-avatar component-flat"><img class="w-80"
                src="img/cars/estate.png"></div>
            <h4 class="font-weight-medium animated-count">Estate</h4>
          </div>
        </div>
      </div>
      <div class="col-4 equel-grid" onclick="fullSuvAnimation()">
        <div class="grid d-flex flex-column align-items-center justify-content-center">
          <div class="grid-body text-center">
            <div class="profile-img img-rounded bg-inverse-warning no-avatar component-flat"><img class="w-80"
                src="img/cars/fullsize_suv.png"></div>
            <h4 class="font-weight-medium animated-count">Fullsize SUV</h4>
          </div>
        </div>
      </div>
      <div class="col-4 equel-grid" onclick="midSizeSuvAnimation()">
        <div class="grid d-flex flex-column align-items-center justify-content-center">
          <div class="grid-body text-center">
            <div class="profile-img img-rounded bg-inverse-warning no-avatar component-flat"><img class="w-80"
                src="img/cars/midsize_suv.png"></div>
            <h4 class="font-weight-medium animated-count">Midsize SUV</h4>
          </div>
        </div>
      </div>
      <div class="col-4 equel-grid" onclick="withoutcarAnimation()">
        <div class="grid d-flex flex-column align-items-center justify-content-center">
          <div class="grid-body text-center">
            <div class="profile-img img-rounded bg-inverse-warning no-avatar component-flat"><img class="w-80"
                src="img/cars/without_car.png"></div>
            <h4 class="font-weight-medium animated-count">Without Car</h4>
          </div>
        </div>
      </div>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-8 product-title">
          <div class="product-name">ROOFTOP CARGO CARRIER</div>
          <p>Thule Vector M </p>
        </div>
        <div class="col-4 text-right">
          <div class="font-weight-bold font-16">$1,399.95 </div>
        </div>
      </div>


      <div class="colors my-2">
        <div class="btn-group mt-0 mb-3" data-toggle="buttons" data-tooltip="tooltip" data-placement="right"
          title="choose color">
          <label class="btn btn-black form-check-label active">
            <input class="form-check-input" type="radio" autocomplete="off">
          </label>
          <label class="btn btn-gray form-check-label">
            <input class="form-check-input" type="radio" autocomplete="off">
          </label>
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>
  </div>
  </div>


  <div class="select-car-model">

    <model-viewer id="imgSize" 
    camera-controls 
    src="img/glb/613500_Thule_Vector_Alpine_hp_V1.glb" 
    ar
    disable-zoom
    shadow-intensity="0"
    slot="progress-bar exit-webxr-ar-button interaction-prompt" 
    ar-placement="floor"
    ar-modes="webxr quick-look" 
    ar-scale="fixed" 
    alt="Select Car">
    

      <button  id="ar-button">
        Proceed 2
      </button>

        <button  class="hide-apped apped-btn">
          Proceed 1
        </button>

      <button class="rounded-circle-btn ar-visible d-none" id="close-model">
        <i class="fas fa-times"></i>
      </button>

      <div id="ar-prompt" class="ar-visible d-none">
        <img src="img/hand.png">
      </div>
      

      <div id="hide-btn-main" class="right-rounded-btn table-btn">
        <div class="slider-m btn-img-bg">
          <div class="slides-mk">
            <label class="toggle-control-main">
              <div class="d-none"><input id="roll" value="0" size="3" class="number"></div>
              <div class="d-none"><input id="pitch" value="0" size="3" class="number"></div>
              <!-- <input classname="checkbox" type="checkbox" id="yaw" value="0" size="3" class="number"> -->
              <button class="d-none" id="frame">Update Framing</button>
              <div class="d-none form-check form-switch">
                <input class="form-check-input number" type="checkbox" id="yaw" value="90" size="3"
                  id="flexSwitchCheckDefault">
                <label class="form-check-label" for="flexSwitchCheckDefault"></label>
              </div>
            </label>
            <!-- <button type="button" class="btn btn-primary rounded-circle btn-white" id="nextAnimation"><i
                class="fas fa-caret-up"></i></button>
            <button type="button" class="btn btn-primary rounded-circle btn-white" id="previousAnimationn"><i
                class="fas fa-caret-down"></i> </button> -->
          </div>
        </div>
        <!-- <button type="button" onclick="lockBtn()" class="btn btn-primary rounded-circle btn-lock-unlock btn-white center-icons-lock">
         Fix </button>

         <button type="button" onclick="lockBtn()" class="ar-visible d-none btn btn-primary rounded-circle btn-lock-unlock btn-white center-icons-lock">
          Fix </button> -->

        <!-- <button  type="button" class="ar-visible d-none btn btn-primary rounded-circle btn-lock-unlock btn-white center-icons-lock" onclick="iniFiveGlb()">Ini 5%</button> -->

        <div class="bottom-icons">
          <button type="button" class=" btn btn-primary rounded-circle btn-white-opcity mr-2">
            <i class="fas fa-camera"></i>
          </button>

          <div class="btn btn-primary chat-bot-icon rounded-circle cars-btn btn-white-opcity margin-top-5 size-icons ">
            <div class="animate-img">
              <span>Sizes</span>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="feather feather-x ">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </div>
         
        </div>

        <div class="up-down btn-img-bg">
          <button type="button" class="btn btn-primary rounded-circle btn-white" id="nextAnimation"><i
            class="fas fa-caret-up"></i></button>
        <button type="button" class="btn btn-primary rounded-circle btn-white" id="previousAnimationn"><i
            class="fas fa-caret-down"></i> </button>
        </div>

        <!-- Chat bot UI start -->
        <div class="chat-screen">
          <div class="chat-mail">
            <div class="row">
              <div class="col-8 size-section" id="sizeChange">
                <div class="model-slide">
                  <button type="button" onclick="alpineXL()"
                    class="btn btn-primary rounded-circle btn-white d-inline-block size-btn">Alpine</button>
                  <button type="button" onclick="alpineXXL()"
                    class="btn btn-primary rounded-circle btn-white d-inline-block size-btn">XL </button>
                  <button type="button" onclick="alpineM()"
                    class="btn btn-primary rounded-circle btn-white d-inline-block size-btn" disabled>M
                  </button>
                </div>
                <div class="model-slide">
                  <button type="button" onclick="sportXL()"
                    class="btn btn-primary rounded-circle btn-white d-inline-block size-btn" disabled>Sport</button>
                  <button type="button" onclick="sportXXL()"
                    class="btn btn-primary rounded-circle btn-white d-inline-block size-btn" disabled>XXL </button>
                  <button type="button" onclick="sportL()"
                    class="btn btn-primary rounded-circle btn-white d-inline-block size-btn" disabled>L </button>
                </div>
              </div>
              <div class="col-4 color-section" id="colorChangeVariant">
                <div class="model-slide">
                  <button type="button" value="./img/Color/Black.png" class="btn btn-primary rounded-circle btn-white d-inline-block btn-color-change color-btn color-black"></button>
                  <button type="button" value="./img/Color/Grey.png" class="btn btn-primary rounded-circle btn-white d-inline-block btn-color-change  color-btn color-gray"> </button>
                  <button type="button" value="./img/Color/White.png" class="btn btn-primary rounded-circle btn-white d-inline-block btn-color-change color-btn  color-white"> </button>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </model-viewer>
  </div>


  <!-- common Js -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>


  <!-- <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> -->

  <!-- Loads <model-viewer> for modern browsers: -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <!-- Loads <model-viewer> for old browsers like IE11: -->
  <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
  <!-- main Js -->
  <script src="js/main.js"></script>


  <script type="module">

const modelViewerTexture = document.querySelector("model-viewer#imgSize");
    modelViewerTexture.addEventListener("load", (ev) => {
      let material = modelViewerTexture.model.materials[0];
      let applyPBRTexture = (channel, event) => {
        material.pbrMetallicRoughness[channel].texture.source.setURI(event.target.value);
      }
      document.querySelector('#colorChangeVariant').addEventListener('click', (event) => {
        applyPBRTexture('baseColorTexture', event);
      });
    })


    const modelViewerTransform = document.querySelector("model-viewer#imgSize");
    const roll = document.querySelector('#roll');
    const pitch = document.querySelector('#pitch');
    const yaw = document.querySelector('#yaw');
    const frame = document.querySelector('#frame');

    frame.addEventListener('click', function () {
      modelViewerTransform.updateFraming();
    });

    const updateOrientation = () => {
      modelViewerTransform.orientation = `${roll.value = "-25"}deg ${pitch.value = "0"}deg ${yaw.value = "90"}deg `;
    };

    roll.addEventListener('input', () => {
      updateOrientation();
    });
    pitch.addEventListener('input', () => {
      updateOrientation();
    });
    yaw.addEventListener('input', () => {
      updateOrientation();
    });

    $("#ar-button").click(function (e) {
      updateOrientation();
    });

    
    // Quick Look modes change animation
    // const modelViewerImage = document.querySelector("model-viewer#imgSize");
    // modelViewerImage.addEventListener("load", (ev) => {
    //   modelViewerImage.getElementById("imgSize").style.height = "70px"
    //   modelViewerImage.getElementById("imgSize").removeAttribute("src");
    //   modelViewerImage.getElementById("hide-btn-main").style.display = "none";

    // })
  </script>

  <script>

    $(document).ready(function () {

      $('#close-model').click(function () {
        $('#imgSize').hide("fast");
        $('.ar-visible').addClass("d-none")
        document.getElementById("imgSize").removeAttribute("src");
        window.location.reload();
      });

      //Toggle fullscree
      $(".chat-bot-icon").click(function (e) {
        $(this).children('.animate-img').toggleClass('hide');
        $(this).children('span').toggleClass('hide');
        $(this).children('svg').toggleClass('animate');
        $('.chat-screen').toggleClass('show-chat');
      });
    });

    $(document).ready(function () {
      $("#ar-button").click(function (e) {

        document.getElementById("imgSize").setAttribute("src", "./img/glb/613500_Thule_Vector_Alpine_hp_V1.glb");
        $("#hide-btn-main").css("display", "block");
        $("#hide-btn-main").css("opacity", "1");
        $("#imgSize").css("opacity", "1");
        $(".rounded-circle-btn").css("display", "block");
        $('.ar-visible').removeClass("d-none")
        document.getElementById("imgSize").style.height = "50px"
        updateOrientation();
      });


      // $(document).ready(function () {
      //   if (window.location.pathname == "./select-car.html") {
      //     $("#hide-btn-main").css("display", "block");
      //     $("#imgSize").css("opactiy", "0");
      //     document.getElementById("imgSize").removeAttribute("src");
      //     window.location.reload(true)
      //   } else {
      //     $("#hide-btn-main").css("display", "none");
      //     document.getElementById("imgSize").style.height = "70px"
      //     document.getElementById("imgSize").removeAttribute("src");
      //     // document.getElementById("hide-btn-main").style.display = "none";
      //   }
      // });

    });


    // Add active class to the current button (highlight it)
    // var header = document.getElementById("vehicleSelection");
    // var btns = header.getElementsByClassName("equel-grid");
    // // $(".equel-grid").removeClass("active-grid")
    // for (var i = 0; i < btns.length; i++) {
    //   btns[i].addEventListener("click", function () {
    //     var current = document.getElementsByClassName("active-grid");
    //     current[0].className = current[0].className.replace(" active-grid", "");
    //     this.className += " active-grid";
    //   });
    // }

    // var a = document.getElementById("vehicleSelection");
    // for (var i = 0, length = a.length; i < length; i++) {
    //   a[i].onclick = function() {
    //     var b = document.getElementsByClassName("equel-grid");
    //     if (b) b.classList.remove("active-grid");
    //     this.parentNode.classList.add('active-grid');
    //   };
    // }

   

    $(".equel-grid").click(function() {
        // Select all list items
        var listItems = $(".equel-grid");
        // Remove 'active' tag for all list items
        for (let i = 0; i < listItems.length; i++) {
            listItems[i].classList.remove("active-grid");
        }
        // Add 'active' tag for currently selected item
        this.classList.add("active-grid");
    });


    $(".color-btn").click(function() {
        // Select all list items
        var listItems = $(".color-btn");
        // Remove 'active' tag for all list items
        for (let i = 0; i < listItems.length; i++) {
            listItems[i].classList.remove("active-color");
        }
        // Add 'active' tag for currently selected item
        this.classList.add("active-color");
    });


    $(".size-btn").click(function() {
        // Select all list items
        var listItems = $(".size-btn");
        // Remove 'active' tag for all list items
        for (let i = 0; i < listItems.length; i++) {
            listItems[i].classList.remove("active-color");
        }
        // Add 'active' tag for currently selected item
        this.classList.add("active-color");
    });


    // var sizeHeader = document.getElementById("sizeChange");
    // var sizeBtns = sizeHeader.getElementsByClassName("rounded-circle");
    // for (var i = 0; i < sizeBtns.length; i++) {
    //   sizeBtns[i].addEventListener("click", function () {
    //     var sizeCurrent = document.getElementsByClassName("active-color");
    //     sizeCurrent[0].className = sizeCurrent[0].className.replace(" active-color", "");
    //     this.className += " active-color";
    //   });
    // }

    // var colorHeader = document.getElementById("colorChange");
    // var colorBtns = colorHeader.getElementsByClassName("rounded-circle");
    // for (var i = 0; i < colorBtns.length; i++) {
    //   colorBtns[i].addEventListener("click", function () {
    //     var colorCurrent = document.getElementsByClassName("active-color");
    //     colorCurrent[0].className = colorCurrent[0].className.replace(" active-color", "");
    //     this.className += " active-color";
    //   });
    // }

  </script>

</body>

</html>